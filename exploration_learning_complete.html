<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>신항로 개척과 대항해 시대 - 단계별 학습</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #87CEEB 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 20px;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            border-radius: 30px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            font-size: 2.5em;
            color: #fff;
            text-shadow: 0 2px 15px rgba(0, 0, 0, 0.4);
            margin-bottom: 15px;
        }

        .header p {
            font-size: 1.2em;
            color: rgba(255, 255, 255, 0.9);
            font-weight: 500;
        }

        .level-selector {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 40px;
        }

        .level-btn {
            background: linear-gradient(135deg, #4ecdc4, #45b7d1);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(78, 205, 196, 0.3);
        }

        .level-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(78, 205, 196, 0.5);
        }

        .level-btn.active {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            box-shadow: 0 8px 25px rgba(255, 165, 0, 0.4);
        }

        .content-section {
            display: none;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(25px);
            border-radius: 30px;
            padding: 40px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
        }

        .content-section.active {
            display: block;
            animation: fadeInUp 0.6s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .section-title {
            font-size: 2em;
            color: #fff;
            margin-bottom: 25px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .content-box {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 25px;
            border-left: 5px solid #4ecdc4;
        }

        .content-box h3 {
            color: #fff;
            margin-bottom: 15px;
            font-size: 1.4em;
        }

        .content-box p, .content-box li {
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.7;
            margin-bottom: 10px;
        }

        .content-box ul {
            padding-left: 20px;
        }

        .quiz-section {
            background: rgba(255, 215, 0, 0.2);
            border: 2px solid rgba(255, 215, 0, 0.4);
            border-radius: 20px;
            padding: 30px;
            margin-top: 30px;
        }

        .quiz-title {
            color: #fff;
            font-size: 1.6em;
            margin-bottom: 20px;
            text-align: center;
        }

        .quiz-question {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .quiz-question h4 {
            color: #fff;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .quiz-options {
            list-style: none;
        }

        .quiz-options li {
            background: rgba(255, 255, 255, 0.1);
            margin-bottom: 10px;
            padding: 12px 20px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: rgba(255, 255, 255, 0.9);
        }

        .quiz-options li:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(5px);
        }

        .quiz-options li.selected {
            background: rgba(78, 205, 196, 0.4);
            border: 2px solid #4ecdc4;
        }

        .quiz-options li.correct {
            background: rgba(76, 175, 80, 0.4);
            border: 2px solid #4CAF50;
        }

        .quiz-options li.incorrect {
            background: rgba(244, 67, 54, 0.4);
            border: 2px solid #f44336;
        }

        .quiz-result {
            background: rgba(255, 255, 255, 0.15);
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            text-align: center;
            display: none;
        }

        .quiz-result.show {
            display: block;
        }

        .quiz-result h3 {
            color: #fff;
            margin-bottom: 15px;
        }

        .quiz-result p {
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.6;
        }

        .quiz-controls {
            text-align: center;
            margin-top: 20px;
        }

        .quiz-btn {
            background: linear-gradient(135deg, #4ecdc4, #45b7d1);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 600;
            margin: 0 10px;
            transition: all 0.3s ease;
        }

        .quiz-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(78, 205, 196, 0.4);
        }

        .quiz-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4ecdc4, #45b7d1);
            border-radius: 10px;
            transition: width 0.5s ease;
            width: 0%;
        }

        .highlight {
            background: rgba(255, 215, 0, 0.3);
            padding: 3px 8px;
            border-radius: 5px;
            font-weight: bold;
        }

        .timeline {
            position: relative;
            padding: 20px 0;
        }

        .timeline-item {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            border-left: 4px solid #4ecdc4;
        }

        .timeline-year {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #333;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: bold;
            margin-right: 20px;
            min-width: 80px;
            text-align: center;
        }

        .timeline-content {
            color: rgba(255, 255, 255, 0.9);
        }

        @media (max-width: 768px) {
            .level-selector {
                flex-direction: column;
                align-items: center;
            }
            
            .content-section {
                padding: 25px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .timeline-item {
                flex-direction: column;
                text-align: center;
            }
            
            .timeline-year {
                margin-right: 0;
                margin-bottom: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🚢 신항로 개척과 대항해 시대 🗺️</h1>
            <p>15~16세기 용감한 탐험가들이 새로운 세계를 발견한 이야기를 단계별로 학습해보세요</p>
        </div>

        <div class="level-selector">
            <button class="level-btn active" data-level="basic">🌱 기초</button>
            <button class="level-btn" data-level="standard">📚 표준</button>
            <button class="level-btn" data-level="advanced">🎓 심화</button>
        </div>

        <!-- 기초 단계 -->
        <div class="content-section active" id="basic">
            <h2 class="section-title">🌱 기초 단계 - 대항해 시대의 시작</h2>
            
            <div class="content-box">
                <h3>🤔 왜 바다로 나갔을까?</h3>
                <p>유럽 사람들이 갑자기 바다로 모험을 떠나게 된 이유가 있었어요!</p>
                <ul>
                    <li><span class="highlight">향신료가 필요했어요!</span> - 후추, 계피, 정향 등 맛있는 향신료는 모두 아시아에서 왔어요</li>
                    <li><span class="highlight">오스만 제국이 길을 막았어요</span> - 육로로 아시아에 가는 길에 많은 세금을 내야 했어요</li>
                    <li><span class="highlight">새로운 도구들이 생겼어요!</span> - 나침반, 별보는 도구, 새로운 배가 만들어졌어요</li>
                </ul>
            </div>

            <div class="content-box">
                <h3>🌍 중요한 탐험가들과 발견</h3>
                <div class="timeline">
                    <div class="timeline-item">
                        <div class="timeline-year">1488년</div>
                        <div class="timeline-content">
                            <strong>디아스</strong> - 아프리카 남쪽 끝(희망봉)에 도착
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-year">1492년</div>
                        <div class="timeline-content">
                            <strong>콜럼버스</strong> - 아메리카를 발견
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-year">1498년</div>
                        <div class="timeline-content">
                            <strong>바스쿠 다 가마</strong> - 인도에 도착
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-year">1519-1522년</div>
                        <div class="timeline-content">
                            <strong>마젤란 일행</strong> - 세계 일주 완성
                        </div>
                    </div>
                </div>
            </div>

            <div class="content-box">
                <h3>🎉 무엇이 달라졌을까?</h3>
                <ul>
                    <li>전 세계가 하나의 거대한 시장이 됨</li>
                    <li>새로운 음식들이 전 세계로 퍼짐 (감자, 토마토, 옥수수)</li>
                    <li>지리와 과학 지식이 크게 발전</li>
                    <li>다양한 문화들이 서로 만나게 됨</li>
                </ul>
            </div>

            <!-- 기초 퀴즈 -->
            <div class="quiz-section">
                <h3 class="quiz-title">🎯 기초 단계 확인 퀴즈</h3>
                <div class="progress-bar">
                    <div class="progress-fill" id="basic-progress"></div>
                </div>
                
                <div class="quiz-question" id="basic-q1">
                    <h4>1. 유럽 사람들이 바다로 모험을 떠나게 된 가장 큰 이유는?</h4>
                    <ul class="quiz-options">
                        <li data-answer="0">새로운 땅을 정복하고 싶어서</li>
                        <li data-answer="1">아시아의 비싼 향신료를 직접 사러 가고 싶어서</li>
                        <li data-answer="2">다른 나라 사람들과 친구가 되고 싶어서</li>
                        <li data-answer="3">바다 괴물을 찾으러 가고 싶어서</li>
                    </ul>
                </div>

                <div class="quiz-question" id="basic-q2" style="display:none;">
                    <h4>2. 아프리카 끝을 처음 돌아간 탐험가는?</h4>
                    <ul class="quiz-options">
                        <li data-answer="0">콜럼버스</li>
                        <li data-answer="1">디아스</li>
                        <li data-answer="2">마젤란</li>
                        <li data-answer="3">바스쿠 다 가마</li>
                    </ul>
                </div>

                <div class="quiz-question" id="basic-q3" style="display:none;">
                    <h4>3. 콜럼버스가 아메리카를 발견하게 된 이유는?</h4>
                    <ul class="quiz-options">
                        <li data-answer="0">지구가 둥글다고 생각해서 서쪽으로 가면 아시아에 도착할 거라고 생각해서</li>
                        <li data-answer="1">아메리카 대륙이 있다는 걸 미리 알고 있어서</li>
                        <li data-answer="2">다른 탐험가가 아메리카 지도를 주어서</li>
                        <li data-answer="3">우연히 폭풍을 만나서 떠밀려간 때문에</li>
                    </ul>
                </div>

                <div class="quiz-question" id="basic-q4" style="display:none;">
                    <h4>4. 최초로 지구를 한 바퀴 돈 탐험대는?</h4>
                    <ul class="quiz-options">
                        <li data-answer="0">콜럼버스 일행</li>
                        <li data-answer="1">마젤란 일행</li>
                        <li data-answer="2">디아스 일행</li>
                        <li data-answer="3">바스쿠 다 가마 일행</li>
                    </ul>
                </div>

                <div class="quiz-question" id="basic-q5" style="display:none;">
                    <h4>5. 대항해 시대가 세계에 미친 영향으로 맞지 않는 것은?</h4>
                    <ul class="quiz-options">
                        <li data-answer="0">전 세계가 하나의 큰 시장처럼 연결되었다</li>
                        <li data-answer="1">아메리카의 새로운 농작물이 전 세계로 퍼졌다</li>
                        <li data-answer="2">모든 나라 사람들이 평등하고 행복하게 살게 되었다</li>
                        <li data-answer="3">지리와 과학 지식이 크게 발전했다</li>
                    </ul>
                </div>

                <div class="quiz-result" id="basic-result">
                    <h3>결과</h3>
                    <p id="basic-score"></p>
                </div>

                <div class="quiz-controls">
                    <button class="quiz-btn" data-action="reset" data-level="basic">다시 풀기</button>
                    <button class="quiz-btn" data-action="navigate" data-target="standard">표준 단계로</button>
                </div>
            </div>
        </div>

        <!-- 표준 단계 -->
        <div class="content-section" id="standard">
            <h2 class="section-title">📚 표준 단계 - 신항로 개척과 유럽의 변화</h2>
            
            <div class="content-box">
                <h3>⚓ 신항로 개척의 배경과 조건</h3>
                <p>15세기 중엽부터 유럽에서 신항로 개척이 본격화된 배경을 살펴보세요.</p>
                <ul>
                    <li><span class="highlight">경제적 동기:</span> 향신료와 동방 물산에 대한 수요 증가, 중간 상인들을 거치지 않은 직접 무역 희망</li>
                    <li><span class="highlight">정치적 배경:</span> 오스만 제국의 확장으로 지중해 무역로 차단, 새로운 무역로 필요</li>
                    <li><span class="highlight">기술적 발전:</span> 나침반, 아스트롤라베, 카라벨선 등 항해 기술 발달</li>
                    <li><span class="highlight">사회적 조건:</span> 르네상스 시대의 호기심과 모험 정신, 왕실의 후원</li>
                </ul>
            </div>

            <div class="content-box">
                <h3>🗺️ 주요 탐험가들의 성과</h3>
                <ul>
                    <li><strong>바르톨로메우 디아스(1488):</strong> 아프리카 남단 희망봉 발견, 인도양 진입로 확보</li>
                    <li><strong>크리스토퍼 콜럼버스(1492):</strong> 서인도 제도 도착, 신대륙 발견</li>
                    <li><strong>바스쿠 다 가마(1498):</strong> 인도 캘리컷 도착, 인도 항로 개척</li>
                    <li><strong>마젤란 일행(1519-1522):</strong> 최초 세계 일주, 태평양 명명, 지구 크기 확인</li>
                </ul>
            </div>

            <div class="content-box">
                <h3>🛡️ 토르데시야스 조약 (1494)</h3>
                <p>에스파냐와 포르투갈이 세계를 분할하기로 한 조약</p>
                <ul>
                    <li>서경 46도 37분을 경계선으로 설정</li>
                    <li>에스파냐: 주로 아메리카 대륙</li>
                    <li>포르투갈: 주로 아시아와 브라질</li>
                    <li>교황의 중재로 평화적 해결</li>
                </ul>
            </div>

            <div class="content-box">
                <h3>🌎 세계사적 영향</h3>
                <ul>
                    <li><span class="highlight">긍정적 영향:</span> 세계적 교역망 형성, 지리적 지식 확대, 문물 교류</li>
                    <li><span class="highlight">부정적 영향:</span> 원주민 사회 파괴, 노예무역, 문화 제국주의</li>
                    <li><span class="highlight">경제적 변화:</span> 상업 혁명, 가격 혁명, 삼각 무역</li>
                    <li><span class="highlight">지역별 영향:</span> 유럽의 부상, 아메리카 식민화, 아프리카 쇠퇴</li>
                </ul>
            </div>

            <!-- 표준 퀴즈 -->
            <div class="quiz-section">
                <h3 class="quiz-title">🎯 표준 단계 확인 퀴즈</h3>
                <div class="progress-bar">
                    <div class="progress-fill" id="standard-progress"></div>
                </div>
                
                <div class="quiz-question" id="standard-q1">
                    <h4>1. 신항로 개척이 시작된 주요 배경이 아닌 것은?</h4>
                    <ul class="quiz-options">
                        <li data-answer="0">향신료와 동방 물산에 대한 수요 증가</li>
                        <li data-answer="1">오스만 제국의 확장으로 지중해 무역로 차단</li>
                        <li data-answer="2">나침반과 아스트롤라베 등 항해 기술 발달</li>
                        <li data-answer="3">산업혁명으로 대량 생산된 상품 판매 필요</li>
                    </ul>
                </div>

                <div class="quiz-question" id="standard-q2" style="display:none;">
                    <h4>2. 토르데시야스 조약(1494)에 대한 설명으로 옳은 것은?</h4>
                    <ul class="quiz-options">
                        <li data-answer="0">에스파냐와 포르투갈이 세력권을 분할하는 조약</li>
                        <li data-answer="1">콜럼버스의 항해를 지원하는 조약</li>
                        <li data-answer="2">아프리카 노예무역을 금지하는 조약</li>
                        <li data-answer="3">이슬람 세력에 공동 대응하는 조약</li>
                    </ul>
                </div>

                <div class="quiz-question" id="standard-q3" style="display:none;">
                    <h4>3. 마젤란 일행의 세계 일주(1519-1522)의 의미로 옳지 않은 것은?</h4>
                    <ul class="quiz-options">
                        <li data-answer="0">지구가 둥글다는 것을 실제로 증명</li>
                        <li data-answer="1">태평양을 발견하고 명명</li>
                        <li data-answer="2">마젤란이 직접 세계 일주를 완성</li>
                        <li data-answer="3">지구의 실제 크기를 확인</li>
                    </ul>
                </div>

                <div class="quiz-question" id="standard-q4" style="display:none;">
                    <h4>4. 신항로 개척이 유럽에 미친 변화로 옳은 것은?</h4>
                    <ul class="quiz-options">
                        <li data-answer="0">지중해가 여전히 무역의 중심 유지</li>
                        <li data-answer="1">대서양 연안국들의 부상과 상업 발달</li>
                        <li data-answer="2">봉건제의 더욱 강화</li>
                        <li data-answer="3">교황권의 완전한 부활</li>
                    </ul>
                </div>

                <div class="quiz-question" id="standard-q5" style="display:none;">
                    <h4>5. 신항로 개척의 부정적 영향으로 옳은 것은?</h4>
                    <ul class="quiz-options">
                        <li data-answer="0">세계적 교역망 형성</li>
                        <li data-answer="1">지리적 지식의 확대</li>
                        <li data-answer="2">원주민 사회 파괴와 노예무역</li>
                        <li data-answer="3">문물 교류의 활성화</li>
                    </ul>
                </div>

                <div class="quiz-result" id="standard-result">
                    <h3>결과</h3>
                    <p id="standard-score"></p>
                </div>

                <div class="quiz-controls">
                    <button class="quiz-btn" data-action="reset" data-level="standard">다시 풀기</button>
                    <button class="quiz-btn" data-action="navigate" data-target="advanced">심화 단계로</button>
                </div>
            </div>
        </div>

        <!-- 심화 단계 -->
        <div class="content-section" id="advanced">
            <h2 class="section-title">🎓 심화 단계 - 대항해 시대를 다시 생각해보기</h2>
            
            <div class="content-box">
                <h3>🌍 대항해 시대, 모든 사람에게 좋았을까?</h3>
                <p>대항해 시대가 세계에 미친 영향을 다양한 관점에서 살펴보세요.</p>
                <ul>
                    <li><span class="highlight">유럽의 관점:</span> 새로운 무역로 개척, 부의 증가, 지식 확대</li>
                    <li><span class="highlight">아메리카 원주민의 관점:</span> 질병으로 인한 인구 감소, 전통 문화 파괴</li>
                    <li><span class="highlight">아프리카인의 관점:</span> 노예무역으로 인한 강제 이주와 고통</li>
                    <li><span class="highlight">현재 우리의 관점:</span> 긍정적 측면과 부정적 측면을 모두 고려한 균형적 평가</li>
                </ul>
            </div>

            <div class="content-box">
                <h3>🔄 콜럼버스 교환 - 세계가 하나로 연결되다</h3>
                <p>아메리카와 유럽, 아시아, 아프리카 사이의 대규모 교류가 시작되었어요.</p>
                <ul>
                    <li><span class="highlight">아메리카 → 세계:</span> 감자, 토마토, 옥수수, 고구마 등</li>
                    <li><span class="highlight">세계 → 아메리카:</span> 말, 소, 돼지, 밀, 쌀 등</li>
                    <li><span class="highlight">긍정적 효과:</span> 전 세계 식량 증가, 인구 증가</li>
                    <li><span class="highlight">부정적 효과:</span> 전염병 확산, 생태계 파괴</li>
                </ul>
            </div>

            <div class="content-box">
                <h3>🤔 생각해보는 질문들</h3>
                <div style="background: rgba(255, 255, 255, 0.1); padding: 20px; border-radius: 15px; margin-bottom: 15px;">
                    <h4 style="color: #FFD700; margin-bottom: 10px;">💭 질문 1: 콜럼버스는 영웅일까, 아닐까?</h4>
                    <p>콜럼버스를 어떻게 평가해야 할까요? 찬성과 반대 의견을 생각해보세요.</p>
                    <button class="quiz-btn" style="margin-top: 10px;" data-action="show-answer" data-question="1">모범답안 보기</button>
                    <div id="answer-1" style="display: none; margin-top: 15px; padding: 15px; background: rgba(78, 205, 196, 0.2); border-radius: 10px;">
                        <p><strong>모범답안:</strong> 콜럼버스에 대한 평가는 관점에 따라 다릅니다. 유럽의 관점에서는 새로운 대륙을 발견하고 문명 교류를 시작한 탐험가로 볼 수 있습니다. 하지만 아메리카 원주민의 관점에서는 침입자이자 전통 문화를 파괴한 인물로 볼 수 있습니다. 역사적 인물을 평가할 때는 한 가지 관점만이 아니라 다양한 관점을 고려해야 합니다.</p>
                    </div>
                </div>

                <div style="background: rgba(255, 255, 255, 0.1); padding: 20px; border-radius: 15px;">
                    <h4 style="color: #FFD700; margin-bottom: 10px;">💭 질문 2: 지금도 대항해 시대의 영향이 남아있을까?</h4>
                    <p>현재 우리 생활에서 대항해 시대의 영향을 찾아보세요.</p>
                    <button class="quiz-btn" style="margin-top: 10px;" data-action="show-answer" data-question="2">모범답안 보기</button>
                    <div id="answer-2" style="display: none; margin-top: 15px; padding: 15px; background: rgba(78, 205, 196, 0.2); border-radius: 10px;">
                        <p><strong>모범답안:</strong> 대항해 시대의 영향은 현재까지도 남아있습니다. 우리가 먹는 감자, 토마토, 고추 등은 모두 아메리카에서 온 것입니다. 또한 전 세계가 하나의 시장으로 연결되는 세계화의 시작이기도 했습니다. 하지만 부정적 영향도 있습니다. 일부 지역의 경제적 불평등이나 환경 문제의 뿌리를 대항해 시대에서 찾을 수 있습니다.</p>
                    </div>
                </div>
            </div>

            <!-- 심화 퀴즈 -->
            <div class="quiz-section">
                <h3 class="quiz-title">🎯 심화 단계 확인 퀴즈</h3>
                <div class="progress-bar">
                    <div class="progress-fill" id="advanced-progress"></div>
                </div>
                
                <div class="quiz-question" id="advanced-q1">
                    <h4>1. 대항해 시대를 다양한 관점에서 본 설명으로 옳은 것은?</h4>
                    <ul class="quiz-options">
                        <li data-answer="0">모든 대륙의 사람들이 동등하게 혜택을 받았다</li>
                        <li data-answer="1">유럽에는 좋았지만 아메리카 원주민에게는 피해가 컸다</li>
                        <li data-answer="2">아프리카에만 부정적 영향을 미쳤다</li>
                        <li data-answer="3">오직 경제적 이익만 추구했다</li>
                    </ul>
                </div>

                <div class="quiz-question" id="advanced-q2" style="display:none;">
                    <h4>2. 콜럼버스 교환에 대한 설명으로 옳지 않은 것은?</h4>
                    <ul class="quiz-options">
                        <li data-answer="0">아메리카에서 감자, 토마토가 유럽으로 전해졌다</li>
                        <li data-answer="1">유럽에서 말, 소 등의 가축이 아메리카로 전해졌다</li>
                        <li data-answer="2">전 세계 인구 증가에 기여했다</li>
                        <li data-answer="3">아메리카 원주민에게만 전염병이 퍼졌다</li>
                    </ul>
                </div>

                <div class="quiz-question" id="advanced-q3" style="display:none;">
                    <h4>3. 현재까지 이어지는 대항해 시대의 영향이 아닌 것은?</h4>
                    <ul class="quiz-options">
                        <li data-answer="0">전 세계적 무역망 형성</li>
                        <li data-answer="1">다양한 농작물의 세계적 확산</li>
                        <li data-answer="2">지역 간 경제적 불평등</li>
                        <li data-answer="3">모든 국가의 완전한 평등</li>
                    </ul>
                </div>

                <div class="quiz-question" id="advanced-q4" style="display:none;">
                    <h4>4. 역사적 인물을 평가할 때 중요한 태도는?</h4>
                    <ul class="quiz-options">
                        <li data-answer="0">한 가지 관점에서만 바라보기</li>
                        <li data-answer="1">다양한 관점을 고려하여 균형 있게 평가하기</li>
                        <li data-answer="2">무조건 긍정적으로만 평가하기</li>
                        <li data-answer="3">현재의 기준으로만 평가하기</li>
                    </ul>
                </div>

                <div class="quiz-question" id="advanced-q5" style="display:none;">
                    <h4>5. 대항해 시대의 부정적 영향으로 옳은 것은?</h4>
                    <ul class="quiz-options">
                        <li data-answer="0">세계적 교역망 형성</li>
                        <li data-answer="1">지리적 지식 확대</li>
                        <li data-answer="2">아프리카 노예무역과 원주민 문화 파괴</li>
                        <li data-answer="3">새로운 농작물의 확산</li>
                    </ul>
                </div>

                <div class="quiz-result" id="advanced-result">
                    <h3>결과</h3>
                    <p id="advanced-score"></p>
                </div>

                <div class="quiz-controls">
                    <button class="quiz-btn" data-action="reset" data-level="advanced">다시 풀기</button>
                    <button class="quiz-btn" data-action="navigate" data-target="basic">기초로 돌아가기</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 전역 변수로 선언하여 중복 에러 방지
        if (typeof window.learningAppData === 'undefined') {
            window.learningAppData = {
                quizData: {
                    basic: {
                        answers: [1, 1, 0, 1, 2],
                        explanations: [
                            "유럽 사람들은 후추, 계피 같은 향신료를 매우 좋아했는데, 중간 상인들을 거쳐서 사니까 너무 비쌌어요. 그래서 직접 아시아에 가서 사고 싶어했답니다!",
                            "바르톨로메우 디아스가 1488년에 아프리카의 남쪽 끝을 돌아갔어요. 아시아로 가는 희망이 보인다고 해서 '희망봉'이라고 이름을 지었답니다!",
                            "콜럼버스는 지구가 둥글다고 생각했어요. 그래서 서쪽으로 계속 가면 아시아에 도착할 거라고 생각했는데, 중간에 아메리카 대륙이 있는 줄 몰랐죠!",
                            "마젤란은 필리핀에서 죽었지만, 그의 선원들이 포기하지 않고 계속해서 1522년에 최초로 지구 한 바퀴를 완성했답니다!",
                            "대항해 시대는 좋은 변화도 많이 가져왔지만, 안타깝게도 모든 사람에게 좋지만은 않았어요. 아메리카 원주민들이 병으로 많이 죽고, 아프리카 사람들이 노예로 팔려가는 등 슬픈 일들도 많았답니다."
                        ]
                    },
                    standard: {
                        answers: [3, 0, 2, 1, 2],
                        explanations: [
                            "신항로 개척이 시작된 것은 15-16세기로, 산업혁명은 18-19세기에 일어났습니다. 향신료 수요 증가, 오스만 제국의 확장, 항해 기술 발달이 주요 배경이었어요.",
                            "토르데시야스 조약은 1494년 에스파냐와 포르투갈이 세계를 분할하여 탐험하기로 한 조약입니다. 서경 46도 37분을 경계로 동서를 나누어 담당했어요.",
                            "마젤란은 필리핀에서 현지인들과의 충돌로 죽었고, 그의 선원들이 항해를 계속해서 1522년에 세계 일주를 완성했습니다.",
                            "신항로 개척으로 무역의 중심이 지중해에서 대서양으로 이동했고, 포르투갈과 에스파냐 같은 대서양 연안국들이 부상했습니다.",
                            "신항로 개척은 긍정적 영향도 있었지만, 원주민 사회 파괴, 아프리카 노예무역 등 부정적 영향도 컸습니다."
                        ]
                    },
                    advanced: {
                        answers: [1, 3, 3, 1, 2],
                        explanations: [
                            "대항해 시대는 유럽에게는 새로운 부와 지식을 가져다주었지만, 아메리카 원주민들에게는 질병과 문화 파괴라는 큰 피해를 주었습니다.",
                            "콜럼버스 교환으로 전염병이 양쪽 대륙에 퍼졌지만, 특히 아메리카 원주민들이 유럽에서 온 질병(천연두 등)으로 큰 피해를 입었습니다.",
                            "대항해 시대의 영향으로 전 세계가 연결되었지만, 모든 국가가 완전히 평등해진 것은 아닙니다. 오히려 불평등이 생겨나기도 했어요.",
                            "역사적 인물을 평가할 때는 한 가지 관점만이 아니라 여러 관점을 고려해서 균형 있게 평가하는 것이 중요합니다.",
                            "대항해 시대는 긍정적 영향도 많았지만, 아프리카 노예무역과 아메리카 원주민 문화 파괴 같은 부정적 영향도 컸습니다."
                        ]
                    }
                },
                currentQuizState: {
                    basic: { currentQuestion: 1, answers: [], completed: false },
                    standard: { currentQuestion: 1, answers: [], completed: false },
                    advanced: { currentQuestion: 1, answers: [], completed: false }
                }
            };
        }

        // DOM이 로드된 후 이벤트 리스너 설정
        document.addEventListener('DOMContentLoaded', function() {
            // 레벨 선택 버튼들
            const levelButtons = document.querySelectorAll('.level-btn');
            levelButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const level = this.getAttribute('data-level');
                    showLevel(level);
                });
            });

            // 퀴즈 옵션들
            const quizOptions = document.querySelectorAll('.quiz-options li');
            quizOptions.forEach(option => {
                option.addEventListener('click', function() {
                    const questionElement = this.closest('.quiz-question');
                    const questionId = questionElement.id;
                    const level = questionId.split('-')[0];
                    const questionNum = parseInt(questionId.split('-q')[1]);
                    const answerIndex = parseInt(this.getAttribute('data-answer'));
                    
                    selectAnswer(level, questionNum, answerIndex);
                });
            });

            // 퀴즈 제어 버튼들과 모범답안 버튼들
            const controlButtons = document.querySelectorAll('.quiz-btn');
            controlButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const action = this.getAttribute('data-action');
                    
                    if (action === 'reset') {
                        const level = this.getAttribute('data-level');
                        resetQuiz(level);
                    } else if (action === 'navigate') {
                        const target = this.getAttribute('data-target');
                        showLevel(target);
                    } else if (action === 'show-answer') {
                        const questionNum = this.getAttribute('data-question');
                        showAnswer(questionNum);
                    }
                });
            });

            // 초기화
            showLevel('basic');
        });

        function showLevel(level) {
            // 모든 섹션 숨기기
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // 모든 버튼 비활성화
            document.querySelectorAll('.level-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // 선택된 섹션 활성화
            const targetSection = document.getElementById(level);
            if (targetSection) {
                targetSection.classList.add('active');
            }
            
            // 해당 레벨 버튼 활성화
            const targetButton = document.querySelector(`[data-level="${level}"]`);
            if (targetButton) {
                targetButton.classList.add('active');
            }
        }

        function showAnswer(questionNum) {
            const answerElement = document.getElementById(`answer-${questionNum}`);
            if (answerElement) {
                if (answerElement.style.display === 'none') {
                    answerElement.style.display = 'block';
                } else {
                    answerElement.style.display = 'none';
                }
            }
        }

        function selectAnswer(level, questionNum, answerIndex) {
            const questionId = `${level}-q${questionNum}`;
            const options = document.querySelector(`#${questionId} .quiz-options`).children;
            
            // 이미 선택된 경우 무시
            if (window.learningAppData.currentQuizState[level].answers[questionNum - 1] !== undefined) {
                return;
            }
            
            // 선택된 답안 저장
            window.learningAppData.currentQuizState[level].answers[questionNum - 1] = answerIndex;
            
            // 정답 확인
            const correctAnswer = window.learningAppData.quizData[level].answers[questionNum - 1];
            
            // 모든 옵션에 클릭 방지
            Array.from(options).forEach(option => {
                option.style.pointerEvents = 'none';
            });
            
            // 정답과 선택한 답안 표시
            Array.from(options).forEach((option, index) => {
                if (index === correctAnswer) {
                    option.classList.add('correct');
                } else if (index === answerIndex && index !== correctAnswer) {
                    option.classList.add('incorrect');
                } else if (index === answerIndex) {
                    option.classList.add('selected');
                }
            });
            
            // 설명 표시
            setTimeout(() => {
                const explanation = window.learningAppData.quizData[level].explanations[questionNum - 1];
                const explanationDiv = document.createElement('div');
                explanationDiv.style.cssText = `
                    background: rgba(78, 205, 196, 0.2);
                    border: 1px solid rgba(78, 205, 196, 0.4);
                    border-radius: 15px;
                    padding: 15px;
                    margin-top: 15px;
                    color: rgba(255, 255, 255, 0.9);
                    line-height: 1.6;
                `;
                explanationDiv.innerHTML = `<strong>💡 설명:</strong> ${explanation}`;
                document.getElementById(questionId).appendChild(explanationDiv);
                
                // 다음 문제로 이동 또는 결과 표시
                setTimeout(() => {
                    if (questionNum < 5) {
                        showNextQuestion(level, questionNum + 1);
                    } else {
                        showQuizResult(level);
                    }
                }, 3000);
            }, 1000);
            
            // 진행률 업데이트
            updateProgress(level, questionNum);
        }

        function showNextQuestion(level, nextQuestionNum) {
            document.getElementById(`${level}-q${nextQuestionNum - 1}`).style.display = 'none';
            document.getElementById(`${level}-q${nextQuestionNum}`).style.display = 'block';
            window.learningAppData.currentQuizState[level].currentQuestion = nextQuestionNum;
        }

        function updateProgress(level, questionNum) {
            const progress = (questionNum / 5) * 100;
            const progressElement = document.getElementById(`${level}-progress`);
            if (progressElement) {
                progressElement.style.width = `${progress}%`;
            }
        }

        function showQuizResult(level) {
            const answers = window.learningAppData.currentQuizState[level].answers;
            const correctAnswers = window.learningAppData.quizData[level].answers;
            let score = 0;
            
            for (let i = 0; i < answers.length; i++) {
                if (answers[i] === correctAnswers[i]) {
                    score++;
                }
            }
            
            const percentage = Math.round((score / 5) * 100);
            let message = '';
            
            if (percentage >= 90) {
                message = "🏆 완벽해요! 이 단계를 완전히 마스터했네요!";
            } else if (percentage >= 70) {
                message = "👏 잘했어요! 대부분의 내용을 잘 이해했어요!";
            } else if (percentage >= 50) {
                message = "📚 보통이에요! 조금 더 복습하면 완벽할 거예요!";
            } else {
                message = "💪 다시 도전해보세요! 내용을 천천히 다시 읽어보면 도움이 될 거예요!";
            }
            
            const resultElement = document.getElementById(`${level}-result`);
            if (resultElement) {
                resultElement.innerHTML = `
                    <h3>📊 결과</h3>
                    <p><strong>점수: ${score}/5 (${percentage}%)</strong></p>
                    <p>${message}</p>
                `;
                resultElement.classList.add('show');
            }
            
            window.learningAppData.currentQuizState[level].completed = true;
        }

        function resetQuiz(level) {
            window.learningAppData.currentQuizState[level] = { currentQuestion: 1, answers: [], completed: false };
            
            // 모든 문제 숨기기
            for (let i = 2; i <= 5; i++) {
                const questionElement = document.getElementById(`${level}-q${i}`);
                if (questionElement) {
                    questionElement.style.display = 'none';
                }
            }
            
            // 첫 번째 문제 보이기
            const firstQuestion = document.getElementById(`${level}-q1`);
            if (firstQuestion) {
                firstQuestion.style.display = 'block';
            }
            
            // 모든 옵션 초기화
            for (let i = 1; i <= 5; i++) {
                const questionElement = document.getElementById(`${level}-q${i}`);
                if (questionElement) {
                    const options = questionElement.querySelectorAll('.quiz-options li');
                    options.forEach(option => {
                        option.classList.remove('selected', 'correct', 'incorrect');
                        option.style.pointerEvents = 'auto';
                    });
                    
                    // 설명 제거
                    const explanation = questionElement.querySelector('div[style*="background: rgba(78, 205, 196, 0.2)"]');
                    if (explanation) {
                        explanation.remove();
                    }
                }
            }
            
            // 진행률과 결과 초기화
            const progressElement = document.getElementById(`${level}-progress`);
            if (progressElement) {
                progressElement.style.width = '0%';
            }
            
            const resultElement = document.getElementById(`${level}-result`);
            if (resultElement) {
                resultElement.classList.remove('show');
            }
        }
    </script>
</body>
</html>